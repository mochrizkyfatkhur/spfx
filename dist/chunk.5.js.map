{"version":3,"sources":["webpack:///.././node_modules/@pnp/spfx-property-controls/lib/propertyFields/number/PropertyFieldNumberHost.js","webpack:///.././node_modules/@pnp/spfx-property-controls/lib/propertyFields/number/index.js","webpack:///.././node_modules/@pnp/spfx-property-controls/lib/propertyFields/number/PropertyFieldNumber.js"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AAC8B;AACkC;AACb;AACS;AACX;AACU;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,oEAAa;AACxC;AACA,uBAAuB,iFAAkC;AACzD;AACA;AACA;AACA,gBAAgB,oEAAa;AAC7B,uBAAuB,qFAAsC;AAC7D;AACA;AACA,gBAAgB,oEAAa;AAC7B,uBAAuB,qFAAsC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oEAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,sBAAsB,oEAAa,kDAAkD,oEAAa;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,uDAAe;AACvB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,2BAA2B,0EAAK;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,oEAAa;AACpC,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mDAAmB;AACnC,YAAY,mDAAmB,CAAC,8EAAS,GAAG,wWAAwW;AACpZ;AACA;AACA,CAAC,CAAC,+CAAe;AACF,sFAAuB,EAAC;AACvC,mD;;;;;;;;;;;;AClHA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAAsC;AACI;AAC1C,iC;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAgB,SAAI,IAAI,SAAI;AAC5B;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC+B;AACO;AAC8B;AACJ;AAChE;AACA;AACA,oBAAoB,iFAAqB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,mDAAmB,CAAC,gEAAuB,aAAa,UAAU,wCAAwC;AAChI,QAAQ,gDAAe;AACvB;AACA;AACA;AACA;AACA;AACA,QAAQ,gEAA+B;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACM;AACP,qEAAqE,eAAe,kCAAkC;AACtH;AACA,+C","file":"chunk.5.js","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { TextField } from 'office-ui-fabric-react/lib/TextField';\nimport * as telemetry from '../../common/telemetry';\nimport { Async } from 'office-ui-fabric-react/lib/Utilities';\nimport * as strings from 'PropertyControlStrings';\nimport { GeneralHelper } from '../../helpers/GeneralHelper';\nvar PropertyFieldNumberHost = /** @class */ (function (_super) {\n    __extends(PropertyFieldNumberHost, _super);\n    function PropertyFieldNumberHost(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * Validate if field value is a number\n         * @param value\n         */\n        _this._validateNumber = function (value) {\n            var nrValue = !GeneralHelper.isDefined(_this.props.precision) || _this.props.precision === 0 ? parseInt(value) : parseFloat(value);\n            if (isNaN(nrValue)) {\n                return strings.NotNumberValidationMessage + \" \" + value + \".\";\n            }\n            var _a = _this.props, minValue = _a.minValue, maxValue = _a.maxValue;\n            // Check if number is lower or equal to minimum value\n            if (GeneralHelper.isDefined(minValue) && nrValue < minValue) {\n                return strings.MinimumNumberValidationMessage + \" \" + minValue;\n            }\n            // Check if the number is greater than the maximum value\n            if (GeneralHelper.isDefined(maxValue) && nrValue > maxValue) {\n                return strings.MaximumNumberValidationMessage + \" \" + maxValue;\n            }\n            if (_this.props.onGetErrorMessage) {\n                return _this.props.onGetErrorMessage(nrValue);\n            }\n            else {\n                return '';\n            }\n        };\n        /**\n         * On field change event handler\n         */\n        _this._onChanged = function (value) {\n            var nrValue;\n            var precision = _this.props.precision;\n            if (!GeneralHelper.isDefined(precision)) {\n                nrValue = parseFloat(value);\n            }\n            else if (precision === 0) {\n                nrValue = parseInt(value);\n            }\n            else {\n                var multiplier = Math.pow(10, precision);\n                nrValue = Math.round((parseFloat(value) + 0.000000000000001) * multiplier) / multiplier;\n            }\n            // Update state\n            _this.setState({\n                value: value,\n                roundedValue: nrValue\n            });\n            var _a = _this.props, minValue = _a.minValue, maxValue = _a.maxValue;\n            if (!isNaN(nrValue)) {\n                if ((!GeneralHelper.isDefined(minValue) || nrValue >= minValue) && (!GeneralHelper.isDefined(maxValue) || nrValue <= maxValue)) {\n                    // Trigger change for the web part\n                    _this.props.onChanged(nrValue);\n                }\n            }\n            else {\n                _this.props.onChanged(undefined);\n            }\n        };\n        telemetry.track('PropertyFieldNumber', {\n            disabled: props.disabled\n        });\n        _this.state = {\n            value: _this.props.value ? _this.props.value.toFixed(props.precision || 0) : null,\n            roundedValue: props.value\n        };\n        _this._async = new Async(_this);\n        _this._delayedChange = _this._async.debounce(_this._onChanged, _this.props.deferredValidationTime ? _this.props.deferredValidationTime : 200);\n        return _this;\n    }\n    /**\n     * componentDidUpdate lifecycle hook\n     *\n     * @param prevProps\n     * @param prevState\n     */\n    PropertyFieldNumberHost.prototype.componentDidUpdate = function (prevProps, prevState) {\n        if (prevProps.value !== this.props.value && this.props.value !== this.state.roundedValue) {\n            this.setState({\n                value: GeneralHelper.isDefined(this.props.value) ? this.props.value.toString() : null\n            });\n        }\n    };\n    /**\n     * Render field\n     */\n    PropertyFieldNumberHost.prototype.render = function () {\n        return (React.createElement(\"div\", null,\n            React.createElement(TextField, { label: this.props.label, ariaLabel: this.props.ariaLabel, onChanged: this._delayedChange, value: this.state.value, description: this.props.description, placeholder: this.props.placeholder, errorMessage: this.props.errorMessage, onGetErrorMessage: this._validateNumber, deferredValidationTime: this.props.deferredValidationTime, disabled: this.props.disabled })));\n    };\n    return PropertyFieldNumberHost;\n}(React.Component));\nexport default PropertyFieldNumberHost;\n//# sourceMappingURL=PropertyFieldNumberHost.js.map","export * from './PropertyFieldNumber';\nexport * from './PropertyFieldNumberHost';\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { PropertyPaneFieldType } from '@microsoft/sp-property-pane';\nimport PropertyFieldNumberHost from './PropertyFieldNumberHost';\nvar PropertyFieldNumberBuilder = /** @class */ (function () {\n    function PropertyFieldNumberBuilder(_targetProperty, _properties) {\n        this.type = PropertyPaneFieldType.Custom;\n        this.targetProperty = _targetProperty;\n        this.properties = _properties;\n        this.properties.onRender = this._render.bind(this);\n        this.properties.onDispose = this._dispose.bind(this);\n    }\n    PropertyFieldNumberBuilder.prototype._render = function (elem, context, changeCallback) {\n        var props = this.properties;\n        var element = React.createElement(PropertyFieldNumberHost, __assign({}, props, { onChanged: this._onChanged.bind(this) }));\n        ReactDOM.render(element, elem);\n        if (changeCallback) {\n            this._onChangeCallback = changeCallback;\n        }\n    };\n    PropertyFieldNumberBuilder.prototype._dispose = function (elem) {\n        ReactDOM.unmountComponentAtNode(elem);\n    };\n    PropertyFieldNumberBuilder.prototype._onChanged = function (value) {\n        if (this._onChangeCallback) {\n            this._onChangeCallback(this.targetProperty, value);\n        }\n    };\n    return PropertyFieldNumberBuilder;\n}());\nexport function PropertyFieldNumber(targetProperty, properties) {\n    return new PropertyFieldNumberBuilder(targetProperty, __assign({}, properties, { onRender: null, onDispose: null }));\n}\n//# sourceMappingURL=PropertyFieldNumber.js.map"],"sourceRoot":""}